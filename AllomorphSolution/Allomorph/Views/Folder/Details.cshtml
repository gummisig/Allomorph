@model Tuple<Allomorph.Models.Folder, IEnumerable<Allomorph.Models.SubFile>, IEnumerable<Allomorph.Models.Comment>>

@{
    ViewBag.Title = "Upplýsingar um textaskrá";
}

@{ Html.RenderPartial("Search", new Allomorph.Models.Folder()); }

<h2>@Model.Item1.FolderName</h2>


<img src="@Model.Item1.Poster" alt="BAD POSTER" width="420" height="420">

<div>
    @Html.ActionLink("Ritstýring", "TextEdit", Model.Item1.ID)
</div>

<div>
	<hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Item1.CategoryID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Item1.CategoryID)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Item1.FolderName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Item1.FolderName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Item1.Link)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Item1.Link)
        </dd>
        @*
    <dt>
        @Html.DisplayNameFor(model => model.Poster)
    </dt>

    <dd>
        @Html.DisplayFor(model => model.Poster)
    </dd>*@

        <dt>
            @Html.DisplayNameFor(model => model.Item1.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Item1.Description)
        </dd>

    </dl>
</div>

<div>
    <table>
        <thead>
            <tr>
                <th>
                    Subtitle name
                </th>
                <th>
                    language
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Item2)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.SubName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LanguageID)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                        @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Item1.ID }) |
    @Html.ActionLink("Back to List", "Index")
</p>

 @* @{Html.RenderPartial("Comment", Model.Item2);}*@


    <script src="/Scripts/jquery-1.10.2.min.js"></script>
    <script src="/Scripts/jquery.loadTemplate-1.4.1.min.js"></script>

    <div class="list-group">
        <ul id="appendlist" style="max-width: 560px;">
            @foreach (var item in Model.Item3)
            {

                <li id="sir" class="list-group-item">
                    <p>
                        <span class="glyphicon glyphicon-user"></span>
                        <span class="text-primary">@Html.DisplayFor(modelItem => item.UserID)</span>
                        <span>@Html.DisplayFor(modelItem => item.CommentText)</span>
                    </p>
                    <p id="@(item.ID-1)">
                        <span class="text-muted">@item.DateCreated.ToString("dd. MMMM HH:mm") - </span>
                        <a class="like-comment">Like <span class="glyphicon glyphicon-thumbs-up"></span></a>
                    </p>
                    <ul class="list-unstyled">
                        <li>Patrekur liked this</li>
                        <li>Siggi liked this</li>
                    </ul>
                </li>
            }
        </ul>

        <ul style="max-width: 560px;">
            <li class="list-group-item">
                <div class="form-horizontal">
                    <label class="sr-only" for="theComment">Comment</label>
                    <textarea class="form-control" rows="3" id="theComment" name="theComment"></textarea>
                    <button id="submitter" value="save" class="btn btn-primary">Send</button>
                </div>
            </li>
        </ul>
    </div>

    <script id="commentTemplate" type="text/html">
        <li class="list-group-item">
            <p>
                <span class="glyphicon glyphicon-user"></span>
                <span class="text-primary" data-content="username"></span>
                <span data-content="commenttext"></span>
            </p>
            <p>
                <span class="text-muted" data-content="date"></span>
                <a class="like-comment">Like<span class="glyphicon glyphicon-thumbs-up"></span></a>
            </p>
        </li>
    </script>
